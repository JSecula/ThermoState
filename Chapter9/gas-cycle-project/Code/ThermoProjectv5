{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {
    "collapsed": false,
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                       SuperCriticalCO_2 through Brayton cycle                       \n",
      " \n",
      " \n",
      "                                     Jason Secula                                    \n",
      "                           Applied Thermodynamics [ME 2234]                          \n",
      "                               Professor Bryan W. Weber                              \n",
      "                             Project 2: Gas Power Cycles                             \n",
      "           \n",
      "TubrineWork    = 126870.19637846935 joule / kilogram\n",
      "TotCompWork    = 130791.29676794924 joule / kilogram\n",
      "Heat in        = 171496.48312041035 joule / kilogram\n",
      "Eta            = 76.26471073235865 percent\n",
      "Eta            = 58.04567551284099 percent\n"
     ]
    }
   ],
   "source": [
    "from thermostate import State, Q_, units\n",
    "from math import pi\n",
    "#___________________________________\n",
    "import matplotlib.pyplot as plt\n",
    "import scipy.special as special\n",
    "import numpy as np\n",
    "#_____________________________________________________________________ Line\n",
    "print('SuperCriticalCO_2 through Brayton cycle'.center(85))\n",
    "print(' ')\n",
    "print(' ')\n",
    "print('Jason Secula'.center(85))\n",
    "print('Applied Thermodynamics [ME 2234]'.center(85))\n",
    "print('Professor Bryan W. Weber'.center(85))\n",
    "print('Project 2: Gas Power Cycles'.center(85))\n",
    "print('           ')\n",
    "\n",
    "substance = 'AIR' #R-744 for CO2 did not work...\n",
    "Wd_cyc = Q_(85.5,'kJ/kg') #Given work output by the cycle. \n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 1, Into Compressor 1._____________________\n",
    "#_____________________________________________________________________\n",
    "p_1 = Q_(7.69231, 'MPa')\n",
    "T_1 = Q_(305.15, 'K')\n",
    "st_1 = State(substance, T=T_1, p=p_1)\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 2, Into Regenerator 2.____________________\n",
    "#_____________________________________________________________________\n",
    "p_2 = Q_(20, 'MPa')\n",
    "T_2 = Q_(334.25, 'K')\n",
    "st_2 = State(substance, T=T_2, p=p_2)\n",
    "#___s_________________________________________________________________ Line\n",
    "#___s______State 2s, Into Regenerator 1. with irrevsibilities.________\n",
    "#___s_________________________________________________________________\n",
    "#Compressor is Isentropic: s_1 = s_2s\n",
    "st_2s = State(substance, p=p_2, s=st_1.s) #Compressor Irreversibilies.\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 3, Into Regenerator 1.____________________\n",
    "#_____________________________________________________________________\n",
    "p_3 = Q_(19.98868, 'MPa')\n",
    "T_3 = Q_(431.14, 'K')\n",
    "st_3 = State(substance, T=T_3, p=p_3)\n",
    "#___s_________________________________________________________________ Line\n",
    "#___s_________________State 3s, Into Regenerator 1.___________________\n",
    "#___s_________________________________________________________________\n",
    "st_3s = State(substance, s=st_1.s, p=p_3) #Compressor Irreversibilies.\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 4, Into Heat Exchanger._______[ Q_in ]____\n",
    "#_____________________________________________________________________\n",
    "p_4 = Q_(19.95795, 'MPa')\n",
    "T_4 = Q_(669.69, 'K')\n",
    "st_4 = State(substance, T=T_4, p=p_4) \n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 5, Into Turbine_______________[ W_c/m. ]__\n",
    "#_____________________________________________________________________\n",
    "p_5 = Q_(19.82795, 'MPa')\n",
    "T_5 = Q_(823.15, 'K')\n",
    "st_5 = State(substance, T=T_5, p=p_5)\n",
    "#___s_________________________________________________________________ Line\n",
    "#___s_________________State 5s, Into Turbine_______________[ W_c/m. ]__\n",
    "#___s_________________________________________________________________\n",
    "st_5s = State(substance, T=T_5, p=p_4) #Pressure constant from 4 to 5\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 6, Back into Regenerator 1._______________\n",
    "#_____________________________________________________________________\n",
    "p_6 = Q_(7.90116, 'MPa')\n",
    "T_6 = Q_(713.44, 'K')\n",
    "st_6 = State(substance, T=T_6, p=p_6)\n",
    "#___s_________________________________________________________________ Line\n",
    "#___s______State 6s, Back into Regenerator 1. with irrevsibilities____\n",
    "#___s_________________________________________________________________\n",
    "#Use Turbine is Adiabatic: s_5 = s_6s\n",
    "st_6s = State(substance, p=p_6, s=st_5.s)\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 7, Back into Regenerator 2._______________\n",
    "#_____________________________________________________________________\n",
    "p_7 = Q_(7.81421, 'MPa')\n",
    "T_7 = Q_(441.49, 'K')\n",
    "st_7 = State(substance, T=T_7, p=p_7)\n",
    "#_____________________________________________________________________ Line\n",
    "#_____________________State 8, Split _________[ to HE and Comp2 ]_____\n",
    "#_____________________________________________________________________\n",
    "T_8 = Q_(342.74, 'K')\n",
    "st_8 = State(substance, T=T_8, p=p_1) #from 8 to 1 constant pressure\n",
    "#_____________________________________________________________________ Line\n",
    "Wt = (st_5.h-st_6.h)\n",
    "Wc = ((st_2.h-st_1.h)+(st_3.h-st_2.h))\n",
    "Qin = (st_5.h-st_4.h)\n",
    "\n",
    "print('TubrineWork    = {}'.format(Wt))\n",
    "print('TotCompWork    = {}'.format(Wc))\n",
    "print('Heat in        = {}'.format(Qin))\n",
    "eta = (((st_2.h-st_1.h)+(st_3.h-st_2.h))/(st_5.h-st_4.h)).to('percent')\n",
    "print('η             = {}'.format(eta))\n",
    "eta = (((st_2s.h-st_1.h)+(st_3s.h-st_2s.h))/(st_5s.h-st_4.h)).to('percent')\n",
    "print('η_s           = {}'.format(eta))\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
